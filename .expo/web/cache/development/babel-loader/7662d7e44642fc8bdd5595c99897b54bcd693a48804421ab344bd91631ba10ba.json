{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport { db } from \"../config/firebase\";\nimport { collection, addDoc, getDocs, doc, updateDoc, deleteDoc, query, onSnapshot } from \"firebase/firestore\";\nexport function cadastrarPost(_x) {\n  return _cadastrarPost.apply(this, arguments);\n}\nfunction _cadastrarPost() {\n  _cadastrarPost = _asyncToGenerator(function* (data) {\n    try {\n      var result = yield addDoc(collection(db, 'Post'), data);\n      return result.id;\n    } catch (error) {\n      return 'erro';\n    }\n  });\n  return _cadastrarPost.apply(this, arguments);\n}\nexport function atualizarPost(_x2, _x3) {\n  return _atualizarPost.apply(this, arguments);\n}\nfunction _atualizarPost() {\n  _atualizarPost = _asyncToGenerator(function* (idPost, data) {\n    try {\n      var postRef = doc(db, 'Post', idPost);\n      yield updateDoc(postRef, data);\n      return idPost;\n    } catch (error) {\n      console.log(error);\n      return 'error';\n    }\n  });\n  return _atualizarPost.apply(this, arguments);\n}\nexport function deletarPost(_x4) {\n  return _deletarPost.apply(this, arguments);\n}\nfunction _deletarPost() {\n  _deletarPost = _asyncToGenerator(function* (idpost) {\n    try {\n      var postRef = doc(db, 'Post', idpost);\n      yield deleteDoc(postRef);\n      return 'ok';\n    } catch (error) {\n      console.log(error);\n      return 'erro';\n    }\n  });\n  return _deletarPost.apply(this, arguments);\n}\nexport function pegarPostTempoReal(_x5) {\n  return _pegarPostTempoReal.apply(this, arguments);\n}\nfunction _pegarPostTempoReal() {\n  _pegarPostTempoReal = _asyncToGenerator(function* (setPost) {\n    var ref = query(collection(db, 'Post'));\n    onSnapshot(ref, function (querySnapshot) {\n      var posts = [];\n      querySnapshot.forEach(function (doc) {\n        posts.push(_objectSpread({\n          id: doc.id\n        }, doc.data()));\n      });\n      setPost(posts);\n    });\n  });\n  return _pegarPostTempoReal.apply(this, arguments);\n}","map":{"version":3,"names":["db","collection","addDoc","getDocs","doc","updateDoc","deleteDoc","query","onSnapshot","cadastrarPost","_x","_cadastrarPost","apply","arguments","_asyncToGenerator","data","result","id","error","atualizarPost","_x2","_x3","_atualizarPost","idPost","postRef","console","log","deletarPost","_x4","_deletarPost","idpost","pegarPostTempoReal","_x5","_pegarPostTempoReal","setPost","ref","querySnapshot","posts","forEach","push","_objectSpread"],"sources":["C:/Users/Lab71/Downloads/projeto/src/servicos/firestore.js"],"sourcesContent":["import { db } from \"../config/firebase\";\nimport { collection, addDoc, getDocs, doc, updateDoc, deleteDoc, query, onSnapshot } from \"firebase/firestore\";\n\nexport async function cadastrarPost(data) {\n    try {\n        const result = await addDoc(collection(db, 'Post'), data)\n        return result.id\n    } catch (error) {\n        return 'erro'\n    }\n}\n\nexport async function atualizarPost(idPost, data) {\n    try {\n        const postRef = doc(db, 'Post', idPost)\n        await updateDoc(postRef, data)\n        return idPost\n    } catch (error) {\n        console.log(error)\n        return 'error'\n    }\n}\n\nexport async function deletarPost(idpost) {\n    try {\n        const postRef = doc(db, 'Post', idpost)\n        await deleteDoc(postRef)\n        return 'ok'\n    } catch (error) {\n        console.log(error)\n        return 'erro'\n    }\n}\n\nexport async function pegarPostTempoReal(setPost) {\n    const ref = query(collection(db, 'Post'))\n    onSnapshot(ref, (querySnapshot) => {\n        const posts = []\n        querySnapshot.forEach((doc) => {\n            posts.push({ id: doc.id, ...doc.data() })\n        })\n        setPost(posts)\n    })\n}"],"mappings":";;;;AAAA,SAASA,EAAE;AACX,SAASC,UAAU,EAAEC,MAAM,EAAEC,OAAO,EAAEC,GAAG,EAAEC,SAAS,EAAEC,SAAS,EAAEC,KAAK,EAAEC,UAAU,QAAQ,oBAAoB;AAE9G,gBAAsBC,aAAaA,CAAAC,EAAA;EAAA,OAAAC,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAOlC,SAAAF,eAAA;EAAAA,cAAA,GAAAG,iBAAA,CAPM,WAA6BC,IAAI,EAAE;IACtC,IAAI;MACA,IAAMC,MAAM,SAASd,MAAM,CAACD,UAAU,CAACD,EAAE,EAAE,MAAM,CAAC,EAAEe,IAAI,CAAC;MACzD,OAAOC,MAAM,CAACC,EAAE;IACpB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ,OAAO,MAAM;IACjB;EACJ,CAAC;EAAA,OAAAP,cAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBM,aAAaA,CAAAC,GAAA,EAAAC,GAAA;EAAA,OAAAC,cAAA,CAAAV,KAAA,OAAAC,SAAA;AAAA;AASlC,SAAAS,eAAA;EAAAA,cAAA,GAAAR,iBAAA,CATM,WAA6BS,MAAM,EAAER,IAAI,EAAE;IAC9C,IAAI;MACA,IAAMS,OAAO,GAAGpB,GAAG,CAACJ,EAAE,EAAE,MAAM,EAAEuB,MAAM,CAAC;MACvC,MAAMlB,SAAS,CAACmB,OAAO,EAAET,IAAI,CAAC;MAC9B,OAAOQ,MAAM;IACjB,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MAClB,OAAO,OAAO;IAClB;EACJ,CAAC;EAAA,OAAAI,cAAA,CAAAV,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBc,WAAWA,CAAAC,GAAA;EAAA,OAAAC,YAAA,CAAAjB,KAAA,OAAAC,SAAA;AAAA;AAShC,SAAAgB,aAAA;EAAAA,YAAA,GAAAf,iBAAA,CATM,WAA2BgB,MAAM,EAAE;IACtC,IAAI;MACA,IAAMN,OAAO,GAAGpB,GAAG,CAACJ,EAAE,EAAE,MAAM,EAAE8B,MAAM,CAAC;MACvC,MAAMxB,SAAS,CAACkB,OAAO,CAAC;MACxB,OAAO,IAAI;IACf,CAAC,CAAC,OAAON,KAAK,EAAE;MACZO,OAAO,CAACC,GAAG,CAACR,KAAK,CAAC;MAClB,OAAO,MAAM;IACjB;EACJ,CAAC;EAAA,OAAAW,YAAA,CAAAjB,KAAA,OAAAC,SAAA;AAAA;AAED,gBAAsBkB,kBAAkBA,CAAAC,GAAA;EAAA,OAAAC,mBAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA;AASvC,SAAAoB,oBAAA;EAAAA,mBAAA,GAAAnB,iBAAA,CATM,WAAkCoB,OAAO,EAAE;IAC9C,IAAMC,GAAG,GAAG5B,KAAK,CAACN,UAAU,CAACD,EAAE,EAAE,MAAM,CAAC,CAAC;IACzCQ,UAAU,CAAC2B,GAAG,EAAE,UAACC,aAAa,EAAK;MAC/B,IAAMC,KAAK,GAAG,EAAE;MAChBD,aAAa,CAACE,OAAO,CAAC,UAAClC,GAAG,EAAK;QAC3BiC,KAAK,CAACE,IAAI,CAAAC,aAAA;UAAGvB,EAAE,EAAEb,GAAG,CAACa;QAAE,GAAKb,GAAG,CAACW,IAAI,EAAE,EAAG;MAC7C,CAAC,CAAC;MACFmB,OAAO,CAACG,KAAK,CAAC;IAClB,CAAC,CAAC;EACN,CAAC;EAAA,OAAAJ,mBAAA,CAAArB,KAAA,OAAAC,SAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}